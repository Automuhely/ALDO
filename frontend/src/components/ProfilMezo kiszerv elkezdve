import { useEffect, useState } from "react";
// import Container from "react-bootstrap/Container";
import Row from "react-bootstrap/Row";
import Col from "react-bootstrap/Col";
import Form from "react-bootstrap/Form";
import Table from "react-bootstrap/Table";
import Button from "react-bootstrap/Button";


export default function ProfilMezo(props) {

  const [isProfilSzerkesztheto, setIsProfilSzerkesztheto] = useState(false);

  useEffect(()=>{
    console.log(isProfilSzerkesztheto)
  }, [isProfilSzerkesztheto])

    return(
        <Col className="col-sm-12 col-md-6 m-auto profilMezo">
        <Row>
          <Col>
            <h1 className="text-center">Profil</h1>
          </Col>
        </Row>
        <Table bordered responsive>
          <thead>
            <tr>
              <th
                colSpan="2"
                className="text-center"
                style={{ position: "relative" }}
              >
                Személyes adatok
                <Button
                  variant="primary"
                  style={{
                    position: "absolute",
                    right: 10,
                    top: "50%",
                    transform: "translateY(-50%)",
                    width: "2em",
                    fontSize: "1.5em",
                    margin: "0",
                    padding: "0",
                  }}
                  id="profilModosito"
                  onClick={() => {
                    setIsProfilSzerkesztheto((prevState) => !prevState);
                  }}
                >
                  <i className="fa-regular fa-pen-to-square"></i>
                </Button>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Név</td>
              <td>
                <Form.Control
                  disabled={!isProfilSzerkesztheto}
                  type="text"
                  value={props.name}
                  onChange={(e) => props.setName(e.target.value)}
                />
              </td>
            </tr>
            <tr>
              <td>props.telefon</td>
              <td>
                <Form.Control
                  disabled={!isProfilSzerkesztheto}
                  type="text"
                  value={props.telefon}
                  onChange={(e) => props.setTelefon(e.target.value)}
                />
              </td>
            </tr>
            <tr>
              <td>Cím</td>
              <td>
                <Form.Control
                  disabled={!isProfilSzerkesztheto}
                  type="text"
                  value={props.cim}
                  onChange={(e) => props.setCim(e.target.value)}
                />
              </td>
            </tr>
            <tr>
              <td>Születési idő</td>
              <td>
                <Form.Control
                  disabled={!isProfilSzerkesztheto}
                  type="text"
                  value={props.szulido}
                  onChange={(e) => props.setSzulido(e.target.value)}
                />
              </td>
            </tr>
            {props.user.adoazonosito ? (
              <tr>
                <td>Adóazonosító</td>
                <td>
                  <Form.Control
                    disabled={!isProfilSzerkesztheto}
                    type="text"
                    value={props.adoazonosito}
                    onChange={(e) => props.setAdoazonosito(e.target.value)}
                  />
                </td>
              </tr>
            ) : (
              <tr>
                <td>Adószám</td>
                <td>
                  <Form.Control
                    disabled={!isProfilSzerkesztheto}
                    type="text"
                    value={props.adoszam}
                    onChange={(e) => props.setAdoszam(e.target.value)}
                  />
                </td>
              </tr>
            )}

            <tr>
              <td>props.email</td>
              <td>
                <Form.Control
                  disabled={!isProfilSzerkesztheto}
                  type="text"
                  value={props.email}
                  onChange={(e) => props.setEmail(e.target.value)}
                />
              </td>
            </tr>
            <tr
              style={{
                visibility: props.isProfilSzerkesztheto ? "visible" : "hidden",
              }}
            >
              <td colSpan={2} className="text-center">
                <Button
                  onClick={(e) => {
                    setIsProfilSzerkesztheto((prevState) => !prevState);
                    console.log(isProfilSzerkesztheto)
                    props.bekuld(e);
                  }}
                  id="profilMentesGomb"
                  style={{
                    visibility: props.isProfilSzerkesztheto
                      ? "visible"
                      : "hidden",
                  }}
                >
                  Mentés
                </Button>
              </td>
            </tr>
          </tbody>
        </Table>
      </Col>
    )
}